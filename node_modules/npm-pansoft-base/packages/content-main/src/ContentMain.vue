 <template>
    <el-container v-if="$slots.aside">
        <!-- 判断是否存在传过来的组件slot aside -->
        <el-aside :width="tempAsideWidth" v-if="$slots.aside">
            <div v-if="vaside" class="aside_class" :class="[{ 'aside_class--active': tempIsCollapse }]">
                <i :class="asideIcon" style="font-size:25px;cursor:pointer;" @click="setCollapse"></i>
            </div>
            <slot name="aside" v-if="!tempIsCollapse"></slot>
        </el-aside>
        <el-main>
            <el-container >
                <el-header style="font-size: 12px" :height="headHeight" v-if="$slots.top">
                    <slot name="top"></slot>
                </el-header>
                <el-header style="font-size: 12px" :height="headHeight" v-else-if="$slots.topLeft||$slots.topRight">
                    <div class="content_top_left">
                        <slot name="topLeft"></slot>
                    </div>
                    <div class="content_top_right">
                        <slot name="topRight"></slot>
                    </div>
                </el-header>
                <el-main class="mainDg">
                    <slot ></slot>
                </el-main>
                <el-footer  v-if="$slots.footer" :height="footerHeight">
                    <slot name="footer"></slot>
                </el-footer>
            </el-container>
        </el-main>
    </el-container>
    <el-container  v-else>
        <el-header style="font-size: 12px" :height="headHeight" v-if="$slots.top">
            <slot name="top"></slot>
        </el-header>
        <el-header style="font-size: 12px" :height="headHeight" v-else-if="$slots.topLeft||$slots.topRight">
            <div class="content_top_left">
                <slot name="topLeft"></slot>
            </div>
            <div class="content_top_right">
                <slot name="topRight"></slot>
            </div>
        </el-header>
        <el-main class="mainDg">
            <slot ></slot>
        </el-main>
        <el-footer  v-if="$slots.footer" :height="footerHeight">
            <slot name="footer"></slot>
        </el-footer>
    </el-container>
 </template>
 <script>
 export default {
    name: "ContentMain",
    data() {
      return {
        tempIsCollapse:this.isCollapse,
        tempAsideWidth:this.asideWidth
      };
    },
    mounted(){
        if(this.tempIsCollapse){
            this.tempAsideWidth="30px";
        }
    },
    computed: {
     
    },
    props:{
        asideIcon:{
            type:String,
            default:"el-icon-s-unfold"
        },
        vaside:{
            type:Boolean,
            default:false
        },
        isCollapse:{
            type:Boolean,
            default:false
        },
        asideWidth:{
                type:String,
                default:"200px"
        },
        headHeight:{
                type:String,
                default:"auto"
        },
        footerHeight:{
                type:String,
                default:"40px"
        }
    },
    created() {
    },
    methods: {
        setCollapse(){
            if(this.tempIsCollapse){
                this.tempIsCollapse=false;
                this.tempAsideWidth=this.asideWidth;
            }else{
                this.tempIsCollapse=true;
                this.tempAsideWidth='30px';
            }
        }
    }
  };
</script>
<style scoped>
.content_top_left{
    text-align: left;
    float:left;
}
.content_top_right{
    text-align: right;
    float:right;
}
.aside_class {
    height: 30px;
    text-align:center;
}
.aside_class i{
    font-size: 25px !important;
}
.aside_class--active{
    transform:rotate(90deg);
}
.el-aside{
    transition:width 0.2s;
}
</style>